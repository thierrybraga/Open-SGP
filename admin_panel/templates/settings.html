<!--
Arquivo: admin_panel/templates/settings.html

Responsabilidade:
Página de configurações do usuário.

Integrações:
- admin_panel/app.py
-->
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Configurações - ISP ERP</title>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}" />
  <style>
    /* Responsive Settings Grid */
    .settings-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    @media (min-width: 992px) {
      .settings-grid {
        grid-template-columns: repeat(2, 1fr);
        align-items: start;
      }
      
      .settings-card-profile {
        grid-row: span 2;
      }
    }

    /* Theme Toggle Button Enhancement */
    .theme-toggle-wrapper {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .theme-icon {
      width: 20px;
      height: 20px;
    }

    .theme-icon-sun { display: none; }
    .theme-icon-moon { display: block; }

    :root[data-theme="dark"] .theme-icon-sun { display: block; }
    :root[data-theme="dark"] .theme-icon-moon { display: none; }
  </style>
</head>
<body>
  <div class="main-wrapper">
    <!-- Navbar -->
    {% include 'components/navbar.html' %}

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <!-- Breadcrumbs -->
        <nav aria-label="Breadcrumb" class="breadcrumb">
          <span class="breadcrumb-item">
            <a href="/">Home</a>
          </span>
          <span class="breadcrumb-separator" aria-hidden="true">/</span>
          <span class="breadcrumb-item">Configurações</span>
        </nav>

        <header class="page-header">
          <h1 class="page-title">Configurações de Usuário</h1>
          <p class="page-subtitle">Gerencie suas preferências e segurança</p>
        </header>

        <div class="settings-grid">
          <!-- Profile Card -->
          <div class="card settings-card-profile">
            <div class="card-header">
              <h2 class="card-title">Perfil</h2>
            </div>
            <div class="card-body">
              <form>
                <div class="form-group">
                  <label for="username" class="form-label">Usuário</label>
                  <input type="text" id="username" class="form-control" value="{{ user.username if user.username is defined else user }}" readonly disabled>
                  <small class="form-text text-muted">O nome de usuário não pode ser alterado.</small>
                </div>
                
                <div class="form-group">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" id="email" class="form-control" placeholder="admin@example.com" value="{{ user.email if user.email is defined else '' }}">
                </div>

                <div class="form-actions">
                  <button type="button" class="btn btn-primary">Salvar Alterações</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Appearance Card -->
          <div class="card settings-card-appearance">
            <div class="card-header">
              <h2 class="card-title">Aparência</h2>
            </div>
            <div class="card-body">
              <div class="theme-toggle-wrapper">
                <div>
                  <h5 style="margin: 0 0 4px 0; font-size: 1rem;">Modo Escuro</h5>
                  <p class="text-muted mb-0" style="font-size: 0.875rem;">Alternar entre temas claro e escuro</p>
                </div>
                <button class="btn btn-secondary theme-toggle" aria-label="Alternar tema">
                  <!-- Moon Icon (shows in light mode) -->
                  <svg class="theme-icon theme-icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                  </svg>
                  <!-- Sun Icon (shows in dark mode) -->
                  <svg class="theme-icon theme-icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                  </svg>
                  <span>Alternar</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Security Card -->
          <div class="card settings-card-security">
            <div class="card-header">
              <h2 class="card-title">Segurança</h2>
            </div>
            <div class="card-body">
              <form>
                <div class="form-group">
                  <label for="current_password" class="form-label">Senha Atual</label>
                  <input type="password" id="current_password" class="form-control">
                </div>

                <div class="form-group">
                  <label for="new_password" class="form-label">Nova Senha</label>
                  <input type="password" id="new_password" class="form-control">
                </div>

                <div class="form-group">
                  <label for="confirm_password" class="form-label">Confirmar Nova Senha</label>
                  <input type="password" id="confirm_password" class="form-control">
                </div>

                <div class="form-actions">
                  <button type="button" class="btn btn-secondary">Alterar Senha</button>
                </div>
              </form>
            </div>
          </div>
        </div>

      </div>
    </main>

    <!-- Footer -->
    {% include 'components/footer.html' %}
  </div>
  <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
</body>
</html>
